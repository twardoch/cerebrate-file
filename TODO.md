- [x] Analyze issues/104.txt to understand the problems
- [x] Read PLAN.md and TODO.md files
- [x] Create detailed plan to fix the identified issues
- [ ] Read src/cerebrate_file/cli.py to understand current processing flow
- [ ] Identify API response parsing logic for call counting
- [ ] Map explain mode processing workflow
- [ ] Understand chunk processing flow in explain vs normal mode
- [ ] Fix call counting bug in API response parsing
- [ ] Fix frontmatter generation issue in explain mode
- [ ] Fix chunk processing to ensure first chunk gets real prompt
- [ ] Test fixes with test2.sh script
- [ ] Verify call counting shows correct decreasing values
- [ ] Confirm frontmatter appears in all explain mode outputs
- [ ] Ensure all chunks processed with real prompt
- [ ] Run full test suite to check for regressions
- [ ] Implement @issues/105.txt

